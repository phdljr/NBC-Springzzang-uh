<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>It's Me Project.</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Gowun+Dodum&family=Lobster&family=Moirai+One&family=Nanum+Pen+Script&family=Sunflower:wght@300&display=swap');

        h1 {
            font-family: 'Lobster', cursive;
        }

        .typing-text {
            overflow: hidden;
            white-space: nowrap;
            margin: 0 auto;
            letter-spacing: 4px;
        }

        /* 커서 깜빡임 애니메이션 */
        .typing-text::after {
            content: '|';
            /* 커서 모양 */
            display: inline-block;
            animation: blink 0.8s infinite;
            /* 깜빡임 애니메이션 */
        }

        @keyframes blink {

            0%,
            100% {
                opacity: 1;
            }

            50% {
                opacity: 0;
            }
        }


        * {
            margin: 0;
            padding: 0;
        }

        header {
            min-width: 300px;
            height: 80px;
            background-color: rgb(32, 160, 47);
            font-size: 30px;
            color: white;
            position: relative;
        }

        header p {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translateX(-50%) translateY(-50%);
        }

        #dm_ul {
            position: relative;
            margin: auto;
            background-color: none;
            text-align: right;
        }

        .dropmenu ul ul {
            position: absolute;
            display: none;
        }

        .dropmenu ul ul li {
            display: block;
            background-color: white;
            color: white;
        }

        .dropmenu ul li {
            display: inline-block;
            margin-left: -5.5px;
        }

        .dropmenu ul li a {
            display: block;
            width: 100px;
            color: black;
            line-height: 43px;
            text-decoration: none;
            text-align: center;
        }

        #test {
            display: block;
            width: 100px;
            color: black;
            line-height: 43px;
            text-decoration: none;
            text-align: right;
        }


        .btn-btn-primary {
            background-color: white;
            color: #000;
            border: none;
            border-radius: 5px;
            padding: 10px 20px;
            cursor: pointer;
            margin-left: 90%;
            font-size: 16px;
            transition: background-color 0.3s;
        }

        .btn-btn-primary:hover {
            background-color: rgb(0, 166, 255);
        }

        .modal-title {
            color: #000000;

        }

        .col-form-label {
            color: #000000;
        }

        .button {
            background-color: rgba(71, 129, 255, 0.445);
            width: 100px;
            height: 50px;
            border-radius: 10px;
            display: flex;
            margin-left: 95%;
            text-align: center;
            justify-content: center;

        }

        body {
            font-family: Arial, sans-serif;
            background-color: #222;
            color: #fff;
            text-align: center;
            padding: 20px;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            vertical-align: middle;
        }

        h1 {
            font-size: 30px;
        }

        .team-member {
            border: 2px solid #00ff00;
            border-radius: 10px;
            padding: 10px;
            margin: 20px;
            max-width: 300px;
            width: 100%;
            background-color: #333;
        }

        .team-member img {
            max-width: 100%;
            border-radius: 50%;
        }

        .team-member h3 {
            margin-top: 10px;
        }

        .team-members {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            justify-content: center;
        }

        .container>h1 {
            height: 300px;
            font-size: 200px;
            margin-top: 50px;
            margin-bottom: 50px;
        }
    </style>

    <script type="module">
        import { addMember } from "./js/member/addMember.js";
        import { showMembers } from "./js/member/showMembers.js";
        
        showMembers();

        $("#btn").click(() => {
            const data = {
                name: $('#name').val(),
                position: $('#position').val(),
                imageUrl: $('#imageUrl').val(),
                info_mbti: $('#info_mbti').val(),
                advantage: $('#advantage').val(),
                codingStyle: $('#codingStyle').val(),
                teamFeature_Goal: $('#teamFeature_Goal').val(),
                teamPromise: $('#teamPromise').val(),
                blogUrl: $('#blogUrl').val(),
            };
            const file = $('#imageUrl')[0].files[0];

            addMember(data, file);
        });
    </script>
</head>

<body>
    <button type="button" id="button" class="btn-btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal"
        data-bs-whatever="@mdo">멤버 추가
    </button>
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title" id="exampleModalLabel">팀원 신청서</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="mb-3">
                            <label for="recipient-name" class="col-form-label">이름</label>
                            <input type="text" class="form-control" id="name">
                        </div>
                        <div class="mb-3">
                            <label for="recipient-name" class="col-form-label">역할</label>
                            <input type="text" class="form-control" id="position">
                        </div>
                        <div class="mb-3">
                            <label for="recipient-name" class="col-form-label">사진 파일</label>
                            <input type="file" class="form-control" id="imageUrl">
                        </div>
                        <div class="mb-3">
                            <label for="recipient-name" class="col-form-label">[팀]과 [자신]에 대한 설명 및 MBTI</label>
                            <input type="text" class="form-control" id="info_mbti">
                        </div>
                        <div class="mb-3">
                            <label for="message-text" class="col-form-label">객관적으로 살펴본 자신의 장점</label>
                            <textarea class="form-control" id="advantage"></textarea>
                        </div>
                        <div class="mb-3">
                            <label for="message-text" class="col-form-label">자신의 스타일 협업 스타일 소개</label>
                            <textarea class="form-control" id="codingStyle"></textarea>
                        </div>
                        <div class="mb-3">
                            <label for="message-text" class="col-form-label">우리 팀만의 특징과 추구하는 궁극적인 목표</label>
                            <textarea class="form-control" id="teamFeature_Goal"></textarea>
                        </div>
                        <div class="mb-3">
                            <label for="message-text" class="col-form-label">우리 팀의 약속</label>
                            <textarea class="form-control" id="teamPromise"></textarea>
                        </div>
                        <div class="mb-3">
                            <label for="message-text" class="col-form-label">팀원들의 블로그 주소</label>
                            <input type="text" class="form-control" id="blogUrl">
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">닫기</button>
                    <button id="btn" type="button" class="btn btn-primary">저장</button>
                </div>
            </div>
        </div>
    </div>
    <div class="container">
        <h1 class="typing-text"></h1>
        <div id="wrapper" class="team-members container">
        </div>

        <script>
            // 각 글자를 나타내는 배열
            const characters = ["I", "'", "t", "s", " ", "M", "e", " ", "P", "r", "o", "j", "e", "c", "t", "."];
            let currentIndex = 0;

            function typeText() {
                if (currentIndex < characters.length) {
                    const char = characters[currentIndex];
                    $('.typing-text').append(`<span>${char}</span>`);
                    currentIndex++;
                    setTimeout(typeText, 200);
                }
            }

            // 페이지 로드 시 타이핑 효과 시작
            $(document).ready(function () {
                typeText(0);
            });
        </script>
    </div>
</body>

</html>